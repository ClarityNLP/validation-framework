
  	<div class="row">
  		<div class="col-xs-4">
  			<button class="btn btn-primary" ng-click="backView('list')">&laquo; Back to List</button>
  		</div>
  		<div class="col-xs-8">
  			<button class="btn btn-sm btn-default" style="float:right" ng-click="navigateSubjects('forward')">Next &raquo;</button>
  			<button class="btn btn-sm btn-default" style="float:right" ng-click="navigateSubjects('back')">&laquo; Previous</button>
  		</div>
  		<div class="col-xs-12">
  			<div style="float:right;font-size: large;">
  				<b>{{activeSubject.index + 1}}</b> of <b>{{subjects.length}}</b>
 			</div>
  		</div>
  	</div>
  	<div class="row">
  		<div class="col-xs-12">
  			<div align="center">
	  			<h2 title="Patient ID: {{activeSubject.subjectId}} Patient Source: {{activeSubject.sourceId}}">Patient #{{activeSubject.sourceId}}</h2>
	  			<h4 ng-show="activeSubject.gender && activeSubject.gender.length > 0">{{activeSubject.gender}}, <span title="Born: {{activeSubject.yearOfBirth}}">{{activeSubject.age}}</span></h4>
	  			<h5 ng-show="activeSubject.subjectCallsPending > 0" style="color:#006687"><i class="fa fa-circle-o-notch fa-spin"></i></h5>
	  		</div>
  		</div>
  		<div class="col-xs-2">
  			<h4>Filters: <small style="cursor:pointer">(<a ng-click="resetSubjectFilters(true)">Reset</a>)</small></h4>
  			<input ng-model="filterText" class="form-control">
  			<div class="checkbox" ng-repeat="f in validSubjectFilters">
  			  <br ng-if="f === 'documents'" />
              <label style="font-size:110%">
                <input type="checkbox" ng-model="activeValidSubjectFilters[f]"> {{ capitalize(f) }} <!--  (<span class="filter-count" attr-domain="{{f}}">0</span>)-->
              </label>
            </div>
            <div style="padding-top:2px">
            	<label>Search Documents: <input class="form-control" ng-model="searchDocumentsWithinSubject" ng-keypress="($event.which === 13)?doSearchWithinSubject():0"></label>
            	<a id="btn-search-within" class="btn btn-success" ng-click="doSearchWithinSubject()" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> Searching">Search</a>
	  			
            </div>
  		</div>
  		<div class="col-xs-10">

	  		<div ng-repeat="d in activeSubject.dates | orderBy" attr-date="{{d}}" class="date-section">
	  			<div class="row" style="border-bottom: 1px solid #999999;margin: 0px; margin-bottom:10px">
	  				<div style="padding-left:0px" class="col-xs-6" >
						<h4>{{ prettyDate(d) }}</h4>
					</div>
					<div class="col-xs-6">
						<h4 style="float: right;">{{ activeSubject.documents[d].length + activeSubject.records[d].length }} record(s)</h4>
					</div>
				</div>
				<div class="row" ng-show="activeSubject.records[d] && activeSubject.records[d].length > 0">
					<div class="col-xs-12">
						<table class="table table-striped table-hover ">
						      <colgroup>
						       <col span="1" style="width: 15%;">
						       <col span="1" style="width: 10%">
						       <col span="1" style="width: 55%;">
						       <col span="1" style="width: 20%;">
						    </colgroup>
			               <!-- <thead>
			                  <tr>
			                    <th>Domain</th>
			                    <th>Code</th>
			                    <th>Name</th>
			                    <th>Value</th>
			                  </tr>
			                </thead>
			                 --> 
			                <tbody>
			                  <tr attr-date="{{d}}" attr-domain="{{rec.domain}}" ng-show="activeValidSubjectFilters[rec.domain]" 
			                  	ng-repeat="rec in activeSubject.records[d] | orderBy: ['domain', 'conceptName']  | filter:filterText">
			                    <td>{{ capitalize(rec.domain) }}</td>
			                    <td>{{ rec.sourceConceptValue }}</td>
			                    <td><b>{{ rec.displayName }}</b></td>
			                    <td>{{ rec.displayValue }}</td>
			                  </tr>
			                </tbody>
			              </table>
					</div>
				</div>
				<div class="doc-row" attr-date="{{d}}" ng-show="activeValidSubjectFilters['documents']" ng-repeat="doc in activeSubject.documents[d]">
					<div class="row">
						<div class="col-xs-12">
							<h5>Report #{{doc.reportId}}</h5>
						</div>
					</div>
					<document-view doc="doc"></document-view>
				</div>
	  		</div>
	  	</div>
  	</div>